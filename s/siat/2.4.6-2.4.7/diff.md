# Comparing `tmp/siat-2.4.6-py3-none-any.whl.zip` & `tmp/siat-2.4.7-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,8 +1,8 @@
-Zip file size: 1721424 bytes, number of entries: 127
+Zip file size: 1722922 bytes, number of entries: 127
 -rw-rw-rw-  2.0 fat      840 b- defN 23-Apr-10 11:29 siat/__init__.py
 -rw-rw-rw-  2.0 fat     2286 b- defN 23-Jul-17 01:30 siat/allin.py
 -rw-rw-rw-  2.0 fat      747 b- defN 23-Apr-10 11:29 siat/alpha_vantage_test.py
 -rw-rw-rw-  2.0 fat    28808 b- defN 23-Jul-20 14:51 siat/assets_liquidity.py
 -rw-rw-rw-  2.0 fat     1285 b- defN 23-Apr-10 11:29 siat/assets_liquidity_test.py
 -rw-rw-rw-  2.0 fat    10110 b- defN 23-Apr-10 11:29 siat/barrons_scraping_test.py
 -rw-rw-rw-  2.0 fat    37055 b- defN 23-Jul-20 14:54 siat/beta_adjustment.py
@@ -13,15 +13,15 @@
 -rw-rw-rw-  2.0 fat    24249 b- defN 23-Jul-20 15:07 siat/bond_base.py
 -rw-rw-rw-  2.0 fat     3002 b- defN 23-May-25 13:09 siat/bond_china.py
 -rw-rw-rw-  2.0 fat     5246 b- defN 23-Apr-10 11:29 siat/bond_test.py
 -rw-rw-rw-  2.0 fat    28922 b- defN 23-Jul-17 14:01 siat/capm_beta.py
 -rw-rw-rw-  2.0 fat     1745 b- defN 23-Apr-10 11:29 siat/capm_beta_test.py
 -rw-rw-rw-  2.0 fat    38116 b- defN 23-Apr-10 11:29 siat/cmat_commons.py
 -rw-rw-rw-  2.0 fat    77101 b- defN 23-Jul-20 14:43 siat/common.py
--rw-rw-rw-  2.0 fat    21134 b- defN 23-Jul-20 15:09 siat/compare_cross.py
+-rw-rw-rw-  2.0 fat    21328 b- defN 23-Jul-21 03:38 siat/compare_cross.py
 -rw-rw-rw-  2.0 fat     3473 b- defN 23-Apr-10 11:29 siat/compare_cross_test.py
 -rw-rw-rw-  2.0 fat     3061 b- defN 23-Apr-10 11:29 siat/concepts_iwencai.py
 -rw-rw-rw-  2.0 fat     4941 b- defN 23-Apr-10 11:29 siat/concepts_kpl.py
 -rw-rw-rw-  2.0 fat      690 b- defN 23-Apr-10 11:29 siat/copyrights.py
 -rw-rw-rw-  2.0 fat    27351 b- defN 23-Apr-10 11:29 siat/cryptocurrency.py
 -rw-rw-rw-  2.0 fat     2669 b- defN 23-Apr-10 11:29 siat/cryptocurrency_test.py
 -rw-rw-rw-  2.0 fat    41483 b- defN 23-Apr-10 11:29 siat/derivative.py
@@ -75,15 +75,15 @@
 -rw-rw-rw-  2.0 fat    95227 b- defN 23-Jul-13 12:04 siat/option_china.py
 -rw-rw-rw-  2.0 fat    16355 b- defN 23-Apr-10 11:29 siat/option_china_test.py
 -rw-rw-rw-  2.0 fat    70231 b- defN 23-Jul-13 12:03 siat/option_pricing.py
 -rw-rw-rw-  2.0 fat     2203 b- defN 23-Apr-10 11:29 siat/option_pricing_test.py
 -rw-rw-rw-  2.0 fat     5908 b- defN 23-Apr-10 11:29 siat/option_sina_api_test.py
 -rw-rw-rw-  2.0 fat     2610 b- defN 23-Apr-10 11:29 siat/proxy_test.py
 -rw-rw-rw-  2.0 fat     1552 b- defN 23-Apr-10 11:29 siat/quandl_test.py
--rw-rw-rw-  2.0 fat    54037 b- defN 23-Jul-20 15:23 siat/risk_adjusted_return.py
+-rw-rw-rw-  2.0 fat    54227 b- defN 23-Jul-21 03:39 siat/risk_adjusted_return.py
 -rw-rw-rw-  2.0 fat     3416 b- defN 23-Apr-10 11:29 siat/risk_adjusted_return_test.py
 -rw-rw-rw-  2.0 fat    75899 b- defN 23-Jul-13 11:58 siat/risk_evaluation.py
 -rw-rw-rw-  2.0 fat     3731 b- defN 23-Apr-10 11:29 siat/risk_evaluation_test.py
 -rw-rw-rw-  2.0 fat    12388 b- defN 23-Jul-13 11:53 siat/risk_free_rate.py
 -rw-rw-rw-  2.0 fat     4285 b- defN 23-Apr-10 11:29 siat/risk_free_rate_test.py
 -rw-rw-rw-  2.0 fat   102148 b- defN 23-Jul-13 11:51 siat/sector_china.py
 -rw-rw-rw-  2.0 fat     5843 b- defN 23-Apr-11 14:17 siat/sector_china_test.py
@@ -113,17 +113,17 @@
 -rw-rw-rw-  2.0 fat     7407 b- defN 23-Jul-08 17:33 siat/test_markowitz_simple_revised.py
 -rw-rw-rw-  2.0 fat     7361 b- defN 23-Jul-09 11:15 siat/test_markowitz_simple_revised2.py
 -rw-rw-rw-  2.0 fat    14492 b- defN 23-Apr-10 11:29 siat/transaction.py
 -rw-rw-rw-  2.0 fat    18580 b- defN 23-Apr-10 11:29 siat/transaction_test.py
 -rw-rw-rw-  2.0 fat   117953 b- defN 23-Apr-10 11:29 siat/translate-20230125.py
 -rw-rw-rw-  2.0 fat   118133 b- defN 23-Apr-10 11:29 siat/translate-20230206.py
 -rw-rw-rw-  2.0 fat   121657 b- defN 23-Apr-10 11:29 siat/translate-20230215.py
--rw-rw-rw-  2.0 fat   134125 b- defN 23-Jul-13 11:40 siat/translate.py
+-rw-rw-rw-  2.0 fat   135790 b- defN 23-Jul-28 20:52 siat/translate.py
 -rw-rw-rw-  2.0 fat     3936 b- defN 23-Apr-10 11:29 siat/universal_test.py
 -rw-rw-rw-  2.0 fat    52241 b- defN 23-Jul-19 12:01 siat/valuation_china.py
 -rw-rw-rw-  2.0 fat     1571 b- defN 23-Apr-10 11:29 siat/valuation_market_china_test.py
 -rw-rw-rw-  2.0 fat    14859 b- defN 23-Apr-10 11:29 siat/var_model_validation.py
--rw-rw-rw-  2.0 fat     1411 b- defN 23-Jul-20 15:29 siat-2.4.6.dist-info/METADATA
--rw-rw-rw-  2.0 fat       92 b- defN 23-Jul-20 15:29 siat-2.4.6.dist-info/WHEEL
--rw-rw-rw-  2.0 fat        5 b- defN 23-Jul-20 15:29 siat-2.4.6.dist-info/top_level.txt
-?rw-rw-r--  2.0 fat    10212 b- defN 23-Jul-20 15:29 siat-2.4.6.dist-info/RECORD
-127 files, 7846316 bytes uncompressed, 1705838 bytes compressed:  78.3%
+-rw-rw-rw-  2.0 fat     1411 b- defN 23-Jul-28 20:57 siat-2.4.7.dist-info/METADATA
+-rw-rw-rw-  2.0 fat       92 b- defN 23-Jul-28 20:57 siat-2.4.7.dist-info/WHEEL
+-rw-rw-rw-  2.0 fat        5 b- defN 23-Jul-28 20:57 siat-2.4.7.dist-info/top_level.txt
+?rw-rw-r--  2.0 fat    10212 b- defN 23-Jul-28 20:57 siat-2.4.7.dist-info/RECORD
+127 files, 7848365 bytes uncompressed, 1707336 bytes compressed:  78.2%
```

## zipnote {}

```diff
@@ -363,20 +363,20 @@
 
 Filename: siat/valuation_market_china_test.py
 Comment: 
 
 Filename: siat/var_model_validation.py
 Comment: 
 
-Filename: siat-2.4.6.dist-info/METADATA
+Filename: siat-2.4.7.dist-info/METADATA
 Comment: 
 
-Filename: siat-2.4.6.dist-info/WHEEL
+Filename: siat-2.4.7.dist-info/WHEEL
 Comment: 
 
-Filename: siat-2.4.6.dist-info/top_level.txt
+Filename: siat-2.4.7.dist-info/top_level.txt
 Comment: 
 
-Filename: siat-2.4.6.dist-info/RECORD
+Filename: siat-2.4.7.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## siat/compare_cross.py

```diff
@@ -338,15 +338,15 @@
     graph=True
     printout=True
     sortby='tpw_mean'
     
     graph=False
 
 def compare_mrar_cross(dflist,rar_name,start,end, \
-                 RF=True,window=60, \
+                 RF=False,window=60, \
                  axhline_value=0,axhline_label='零线',graph=True,printout=True, \
                  sortby='tpw_mean',scope='China'):
     """
     功能：计算多种证券的rar比率，并绘图对比
     比率：支持夏普比率、特雷诺比率、索替诺比率、阿尔法比率等
     特点：支持跨种类比较，如股票/投资组合/申万行业指数/债券指数等
     
@@ -556,15 +556,20 @@
         
         #构造滚动窗口
         windf=reg[reg.index >= datelist[i]]
         windf=windf[windf.index <= datelist[i1]]
         #print(i,datelist[i],i1,datelist[i1],len(windf))
         
         #使用滚动窗口计算
-        rar,ret_mean=eval(calc_func)(windf)
+        try:
+            rar,ret_mean=eval(calc_func)(windf)
+        except:
+            print("  #Error(rar_ratio_rolling_df): failed in linear regression for",calc_func)
+            #print("  windf:\n",windf)
+            continue
         
         #记录计算结果
         row=pd.Series({'Date':datelist[i1],'RAR':rar,'Mean(Ret)':ret_mean})
         try:
             rars=rars.append(row,ignore_index=True)
         except:
             rars=rars._append(row,ignore_index=True)
```

## siat/risk_adjusted_return.py

```diff
@@ -424,15 +424,20 @@
         
         #构造滚动窗口
         windf=reg[reg.index >= datelist[i]]
         windf=windf[windf.index <= datelist[i1]]
         #print(i,datelist[i],i1,datelist[i1],len(windf))
         
         #使用滚动窗口计算
-        rar,ret_mean=eval(calc_func)(windf)
+        try:
+            rar,ret_mean=eval(calc_func)(windf)
+        except:
+            print("  #Error(rar_ratio_rolling): failed in linear regression for",calc_func)
+            #print("  windf:\n",windf)
+            continue
         
         #记录计算结果
         row=pd.Series({'Date':datelist[i1],'RAR':rar,'Mean(Ret)':ret_mean})
         try:
             rars=rars.append(row,ignore_index=True)        
         except:
             # 可能与Python 3.11有关，不确定
```

## siat/translate.py

```diff
@@ -898,14 +898,34 @@
         
         ['6758.T','日本索尼'],['6758.JP','日本索尼'],['7203.JP','日本丰田汽车'],
         
         ['005930.KS','三星电子'],
         
         ['TCS.NS','印度塔塔咨询'],['ULVR.UK','英国联合利华'],['LOR.DE','法国欧莱雅'],
         
+        ['002594.SZ','比亚迪A股'],['01211.HK','比亚迪港股'],['81211.HK','比亚迪港股(人民币)'],
+        ['00700.HK','腾讯港股'],['80700.HK','腾讯港股(人民币)'],
+        ['09988.HK','阿里巴巴港股'],['89988.HK','阿里巴巴港股(人民币)'],
+        ['03690.HK','美团港股'],['83690.HK','美团港股(人民币)'],
+        ['09618.HK','京东集团港股'],['89618.HK','京东集团港股(人民币)'],
+        ['09888.HK','百度集团港股'],['89888.HK','百度集团港股(人民币)'],
+        ['02020.HK','安踏体育港股'],['82020.HK','安踏体育港股(人民币)'],
+        ['01810.HK','小米集团港股'],['81810.HK','小米集团港股(人民币)'],
+        ['01024.HK','快手港股'],['81024.HK','快手港股(人民币)'],
+        ['02331.HK','李宁港股'],['82331.HK','李宁港股(人民币)'],
+        ['00175.HK','吉利汽车港股'],['80175.HK','吉利汽车港股(人民币)'],
+        ['00992.HK','联想集团港股'],['80992.HK','联想集团港股(人民币)'],
+        ['00020.HK','商汤港股'],['80020.HK','商汤港股(人民币)'],
+        ['02333.HK','长城汽车港股'],['82333.HK','长城汽车港股(人民币)'],
+        ['00941.HK','中国移动港股'],['80941.HK','中国移动港股(人民币)'],
+        ['00883.HK','中国海油港股'],['80883.HK','中国海油港股(人民币)'],
+        ['02318.HK','中国平安港股'],['82318.HK','中国平安港股(人民币)'],
+        ['02388.HK','中银香港港股'],['82388.HK','中银香港港股(人民币)'],
+        ['06618.HK','京东健康港股'],['86618.HK','京东健康港股(人民币)'],
+        
         #股票：指数==============================================================
         ['000300.SS','沪深300指数'],['399300.SS','沪深300指数'],
         ['000001.SS','上证综合指数'],['399001.SZ','深证成份指数'],
         ['000016.SS','上证50指数'],['000132.SS','上证100指数'],
         ['000133.SS','上证150指数'],['000010.SS','上证180指数'],
         ['000688.SS','科创板50指数'],['000043.SS','上证超大盘指数'],
         ['000044.SS','上证中盘指数'],['000046.SS','上证中小盘指数'],
```

## Comparing `siat-2.4.6.dist-info/METADATA` & `siat-2.4.7.dist-info/METADATA`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: siat
-Version: 2.4.6
+Version: 2.4.7
 Summary: Securities Investment Analysis Tools (siat)
 Home-page: https://pypi.org/project/siat/
 Author: Prof. WANG Dehong, Business School, BFSU (北京外国语大学 国际商学院 王德宏)
 Author-email: wdehong2000@163.com
 License: Copyright (C) WANG Dehong, 2023. For educational purpose only!
 Requires-Dist: pandas-datareader
 Requires-Dist: yfinance
```

## Comparing `siat-2.4.6.dist-info/RECORD` & `siat-2.4.7.dist-info/RECORD`

 * *Files 2% similar despite different names*

```diff
@@ -12,15 +12,15 @@
 siat/bond_base.py,sha256=MI1zPBMXUaydkI0IwWfetEDX-Dl2GyVgh8XnliUEDuE,24249
 siat/bond_china.py,sha256=ct28F7d6V0m9S3S-t-0lW1ZnSQYSCZhmsCHcZrPZno8,3002
 siat/bond_test.py,sha256=yUOFw7ddGU-kb1rJdnsjkJWziDNgUR7OLDA7F7Ub91A,5246
 siat/capm_beta.py,sha256=gmPHoaXwlUw5yrS7VCtkaDKX3ZLbMV1jxYcLvETj9_w,28922
 siat/capm_beta_test.py,sha256=ImR0c5mc4hIl714XmHztdl7qg8v1E2lycKyiqnFj6qs,1745
 siat/cmat_commons.py,sha256=Nj9Kf0alywaztVoMVeVVL_EZk5jRERJy8R8kBw88_Tg,38116
 siat/common.py,sha256=rSfALeBpvVmvEAEsIr4UkCgRcoLEjOk4nLDsmb-kfK4,77101
-siat/compare_cross.py,sha256=RleZ650VDdQ-mEDKiJv3Ah_K16xFCAgwf8yA1eI2W2g,21134
+siat/compare_cross.py,sha256=oUdTNB9Wq2iGISgMNYd-hRloWkerc61U2oFIS-tfIak,21328
 siat/compare_cross_test.py,sha256=xra5XYmQGEtfIZL2h-GssdH2hLdFIhG3eoCrkDrL3gY,3473
 siat/concepts_iwencai.py,sha256=m1YEDtECRT6FqtzlKm91pt2I9d3Z_XoP59BtWdRdu8I,3061
 siat/concepts_kpl.py,sha256=SJ9UaJp5i79EXKZ3dPa_vBEoG_zgl1Ig5rZAm-ubgM4,4941
 siat/copyrights.py,sha256=YMLjZb328YpFMR-s_GUu0HBgeGce3pV7DgRut8S3I7w,690
 siat/cryptocurrency.py,sha256=SKh_S85cqd2tRgKBKls1Fpd6HdFd9JfmUTCa2e3mpsE,27351
 siat/cryptocurrency_test.py,sha256=3AikTNJ7j-HwLGLIYEfyXZ3bLVuLeru9mwiwHQi2SdA,2669
 siat/derivative.py,sha256=qV8n09799eqLc26ojR6vN5n_X-xd7rGwdYjgq-wBih8,41483
@@ -74,15 +74,15 @@
 siat/option_china.py,sha256=Drrr1QbyOIMwZRTxOc5508BXZTxsOIU0LHy32smgrSs,95227
 siat/option_china_test.py,sha256=UQ-YUHUjoGBQyanLcM-yzqeEIUQP_gCQIeT0W6rnUnA,16355
 siat/option_pricing.py,sha256=hTz0lD4Yoeq0jK4Kt38qKJC_iOz9a5qXC2OeXgnMmv8,70231
 siat/option_pricing_test.py,sha256=eeorV5Ja5vjlRXnP6fWJHetGU5Vb8SnLopkC6RV3GfA,2203
 siat/option_sina_api_test.py,sha256=dn-k_wrQnAaNKHoROvWJEc7lqlU0bwiV2Aa4usWAFGM,5908
 siat/proxy_test.py,sha256=erQJrmGs2X46z8Gb1h-7GYQ0rTUcaR8dxHExWoBz2eM,2610
 siat/quandl_test.py,sha256=EcPoXnLuqzPl5dKyVEZi3j3PJZFpsnU_iNPhLWC9p-A,1552
-siat/risk_adjusted_return.py,sha256=Um-CJU42n387L5lv1wRra75kHihT9NSJs9jRrtewsrE,54037
+siat/risk_adjusted_return.py,sha256=Q3ICcBCcFGGgk3CQDXM2MfcI_BXGBOLgvwE87U8sLDE,54227
 siat/risk_adjusted_return_test.py,sha256=m_VHL5AtT74cJv5i7taTeTfnkX48y0AFJk5phawyYWg,3416
 siat/risk_evaluation.py,sha256=k5yk4bxKsjxazp-kKfQyrXyFhIHz6fHk3AA4rk2jZXc,75899
 siat/risk_evaluation_test.py,sha256=YEXM96gKzTfwN4U61AS4Rr1tV7KgUvn4rRC6f3iMw9s,3731
 siat/risk_free_rate.py,sha256=X9k-JvEtHkcQxiwCTMtTVz7LHojfAERu7eOzw_hKjsc,12388
 siat/risk_free_rate_test.py,sha256=CpmhUf8aEAEZeNu4gvWP2Mz2dLoIgBX5bI41vfUBEr8,4285
 siat/sector_china.py,sha256=r_Rt63smYYEXxpHJ6mTvi2blO_bZ8yQ11OTi9g2OExY,102148
 siat/sector_china_test.py,sha256=1wq7ef8Bb_L8F0h0W6FvyBrIcBTEbrTV7hljtpj49U4,5843
@@ -112,16 +112,16 @@
 siat/test_markowitz_simple_revised.py,sha256=Tq44VTIjc75RR4_AMEWmU3-EW7TH4ZNEC6Zcer3fbmk,7407
 siat/test_markowitz_simple_revised2.py,sha256=r0KzW9zvaP9BTdXyB2M3MhRKtzHDIituAflT9ZTR9bs,7361
 siat/transaction.py,sha256=foTWS1qYXQFuzNTG2m7ec6aDgsJjzpKmyAbyxKcE8KU,14492
 siat/transaction_test.py,sha256=Z8g1LJCN4-mnUByXMUMoFmN0t105cbmsz2QmvSuIkbU,18580
 siat/translate-20230125.py,sha256=NPPSXhT38s5t9fzMvl_fvi4ckSB73ThLmZetVI-xGdU,117953
 siat/translate-20230206.py,sha256=-vtI125WyaJhmPotOpDAmclt_XnYVaWU9ByLWZ6FyYE,118133
 siat/translate-20230215.py,sha256=TJgtPE3n8IjljmZ4Pefy8dmHoNdFF-1zpML6BhA9FKE,121657
-siat/translate.py,sha256=NHaMYaQRfJJ8eTZc_J05vhhlqvZnYqDymZreR95E7OI,134125
+siat/translate.py,sha256=W8Kyb_7GVomX9hDgN1d0uCocQQU-5JRsYPJDah7bglQ,135790
 siat/universal_test.py,sha256=CDAOffW1Rvs-TcNN5giWVvHMlch1w4dp-w5SIV9jXL0,3936
 siat/valuation_china.py,sha256=SPJFU9J8WJhz_HOXgIAjoG8dZs1zSPS1BZxkjhA-D1w,52241
 siat/valuation_market_china_test.py,sha256=gbJ0ioauuo4koTPH6WKUkqcXiQPafnbhU5eKJ6lpdLA,1571
 siat/var_model_validation.py,sha256=zB_Skk_tmzIR15l6oAW3am4HBGVIG-eZ8gJhCdXZ8Qw,14859
-siat-2.4.6.dist-info/METADATA,sha256=89WOTVGXI9xolpm8rouQMuQaiSd_pCdRPb_QH2HgAdI,1411
-siat-2.4.6.dist-info/WHEEL,sha256=2wepM1nk4DS4eFpYrW1TTqPcoGNfHhhO_i5m4cOimbo,92
-siat-2.4.6.dist-info/top_level.txt,sha256=r1cVyL7AIKqeAmEJjNR8FMT20OmEzufDstC2gv3NvEY,5
-siat-2.4.6.dist-info/RECORD,,
+siat-2.4.7.dist-info/METADATA,sha256=LDZnZ2mgbrA4e3MnSddFZSu1tf44pEDVVIvL11ROLwQ,1411
+siat-2.4.7.dist-info/WHEEL,sha256=2wepM1nk4DS4eFpYrW1TTqPcoGNfHhhO_i5m4cOimbo,92
+siat-2.4.7.dist-info/top_level.txt,sha256=r1cVyL7AIKqeAmEJjNR8FMT20OmEzufDstC2gv3NvEY,5
+siat-2.4.7.dist-info/RECORD,,
```

